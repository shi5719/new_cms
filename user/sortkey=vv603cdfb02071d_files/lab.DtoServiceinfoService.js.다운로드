/*
	lab.DtoServiceinfoService.js, version 1.0
	Copyright 2017.09.08, ywtag
	Re...
	[Biz Component]
*/

var DtoServiceinfoService = Base.extend({

	/* ------------------------------------------------------------------------------------------------------------------
	// ------------------------------------ variant block --------------------------------------------------------
	// ------------------------------------------------------------------------------------------------------------------*/


	dtoServiceinfo: null,
	

	constructor: function() {        
    },

	/* ------------------------------------------------------------------------------------------------------------------
	// ------------------------------------ get/set block --------------------------------------------------------
	// ------------------------------------------------------------------------------------------------------------------*/

	getServiceinfo: function() {

		return this.dtoServiceinfo;
	},

	/* ------------------------------------------------------------------------------------------------------------------
	// ------------------------------------ function block --------------------------------------------------------
	// ------------------------------------------------------------------------------------------------------------------*/

	load: function(_url, _callback, _errorcallback) {

		var self = this;

		$.ajax({
            url: _url,
            dataType: "xml",
            async: true,
            success: function (obj) {
                self.dtoServiceinfo = self.loadServiceinfo($(obj));
                _callback();
            },
			error: function () {
				_errorcallback();
			}
		});
	},


	loadServiceinfo: function (_obj) {

		var dto = new DtoServiceinfo();

		var contentinfo_mode = _obj.find('contentinfo_mode');
		if (contentinfo_mode.length > 0) {
            dto._contentinfo_mode = contentinfo_mode.text();
        } else {
            dto._contentinfo_mode = ServiceContentinfoType.LOCALXML;
		}

		return dto;
	},


	/* ------------------------------------------------------------------------------------------------------------------
	// ------------------------------------ event function block --------------------------------------------------------
	// ------------------------------------------------------------------------------------------------------------------*/

	etc: function() {

	}
});